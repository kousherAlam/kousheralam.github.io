---
import type { IFrontmatter } from "@/utils/types";

import Hero from "@/components/Hero.astro";
import Certificate from "@/components/Certificate.astro";
import Base from "@/layouts/Base.astro";
import { AppConfig } from "@/utils/AppConfig";
import ArticleCard from "../components/ArticleCard.astro";
import Footer from "@/components/Footer.astro";
import { getCollection } from 'astro:content';
import { fileterPublishedConent } from '@/utils/Posts';
const allArticle = await getCollection('articles', fileterPublishedConent);
const { title } = AppConfig;
const { description } = AppConfig;
---

<Base head={{ title, description }}>
  <Hero />
  <div class="pt-4 pb-4 mt-10">
    <div class="grid grid-cols-1 md:grid-cols-2 md:gap-4">
      {
        AppConfig.certifications.map((cert) => {
          if(!cert.title) {return <></>}
          return (
            <div class="mb-3">
              <Certificate {...cert} />
            </div>
          );
        })
      }
    </div>
  </div>

  <div class="mt-8 pt-4">
    <h4 class="mb-3">
      Publications <span class="text-bold text-xs">/</span> Projects
    </h4>
    <div class="grid gap-6">
      <!-- {allArticle.} -->
      {allArticle.map((article) => <ArticleCard {...article} />)} 
    </div>
  </div>

  <footer class="mt-12">
    <Footer />
  </footer>
</Base>